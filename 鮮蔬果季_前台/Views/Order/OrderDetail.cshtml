@model List<鮮蔬果季_前台.ViewModels.OrderListViewModel>
@{
    ViewData["Title"] = "OrderDetail";
}
@section Styles{
    <style>
        .order-box h3 {
            font-size: 18px;
        }

        .order-box {
            padding-top: 20px;
        }

        #units {
            padding-left: 10px;
        }

        #odnum {
            padding-left: 10px;
        }

        #btn-review {
            color: white;
        }
        .add-rv {
            text-align: right;
            padding-right: 20px;
        }
        .last-th {
            text-align: right;
        }
        .table td{
            padding-right:5px
        }
        .table th {
            padding-right: 35px;
        }
        .img-fluid {
            width: 100px;
            height: 80px;
            object-fit: cover;
        }
    </style>
}

<!-- Start All Title Box -->
<div class="all-title-box">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>訂單明細</h2>
            </div>
        </div>
    </div>
</div>
<!-- End All Title Box -->
<!-- Start Cart  -->
<div class="cart-box-main">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="table-main table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th></th>
                                <th>商品</th>
                                <th></th>
                                <th>價格</th>
                                <th>數量</th>
                                <th>小計</th>
                                <th class="last-th">評價</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                int count = 0;
                                int 商品價乘數量 = 0;
                                int 總價 = 0;
                                int 訂單ID = 0;
                                foreach (var item in Model)
                                {
                                    count++;
                                    商品價乘數量 = item.product.ProductUnitPrice * item.odetail.UnitsPurchased;
                                    總價 += 商品價乘數量;
                                    訂單ID = item.odetail.OrderId;
                                    <tr>
                                        <td>
                                            @count
                                        </td>
                                        <td class="thumbnail-img">
                                            <a href="#">
                                                <img class="img-fluid" src="~/images/商品照/@item.photoBank.PhotoPath" alt="" />
                                            </a>
                                        </td>
                                        <td class="name-pr">
                                            <a href="#">
                                                @item.product.ProductName
                                            </a>
                                        </td>
                                        <td class="price-pr">
                                            <p id="price-pr">NT$ @item.product.ProductUnitPrice</p>
                                        </td>
                                        <td class="quantity-box">
                                            <p id="units">
                                                @item.odetail.UnitsPurchased
                                            </p>
                                        </td>
                                        <td class="total-pr">
                                            <p id="total-pr">NT$ @商品價乘數量</p>
                                            @*<p>@item.單筆訂單細項總價</p>*@
                                        </td>
                                        <td class="add-rv">
                                            <a class="btn hvr-hover" id="btn-review" href="#">新增評價</a>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-lg-6 col-sm-6">
                <div class="order-box">
                    <div class="title-left" style="padding-top:20px">
                        <h3>您的訂單<span id="odnum">#@訂單ID</span></h3>
                    </div>
                    <div class="d-flex gr-total">
                        <h5>訂單總金額</h5>
                        <div class="ml-auto h5"> NT$ @總價</div>
                    </div>
                    <hr>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Cart -->
