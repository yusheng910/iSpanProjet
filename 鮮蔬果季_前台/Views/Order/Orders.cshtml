@model List<鮮蔬果季_前台.ViewModels.OrderListViewModel>
@{
    ViewData["Title"] = "Orders";
}

@section Styles{
    <style>
        #btnaddcart {
            color: white;
        }

        th i {
            padding-right: 10px;
        }

        .all-title-box {
            background: url("../images/test1.jpg") no-repeat center center;
            background-size: cover;
        }

        a .img-fluid {
            width: 96px;
            height: 96px;
            object-fit: cover;
        }

        .orderid-p {
            text-align: left;
            padding-left: 15px;
        }

        .last-th {
            text-align: right;
        }

        .table td, .table th {
            padding-right: 20px;
        }

        .add-pr {
            text-align: right;
            padding-right: 20px;
        }

        /*====== tabs ======*/

        nav > .nav.nav-tabs {
            border: none;
            color: #fff;
            background: #272e38;
            border-radius: 0;
        }

        nav > div a.nav-item.nav-link,
        nav > div a.nav-item.nav-link.active {
            border: none;
            padding: 18px 25px;
            color: #fff;
            background: #5e5e3d;
            border-radius: 0;
        }

            nav > div a.nav-item.nav-link.active:after {
                content: "";
                position: relative;
                bottom: -60px;
                left: -10%;
                border: 15px solid transparent;
                border-top-color: #e74c3c;
            }

        .tab-content {
            background: #fdfdfd;
            line-height: 25px;
            border: 1px solid #ddd;
            border-top: 5px solid #e74c3c;
            border-bottom: 5px solid #e74c3c;
            padding: 30px 25px;
        }

        nav > div a.nav-item.nav-link:hover,
        nav > div a.nav-item.nav-link:focus {
            border: none;
            background: #e74c3c;
            color: #fff;
            border-radius: 0;
            transition: background 0.20s linear;
        }

        a {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
            font-size: 1rem;
            font-weight: bold;
            line-height: 1.5;
            color: #212529;
            text-align: left;
            background-color: #fff;
        }
    </style>
}

<!-- Start All Title Box -->
<div class="all-title-box">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>訂單紀錄</h2>
            </div>
        </div>
    </div>
</div>
<!-- End All Title Box -->
<!-- Start List  -->
<div class="wishlist-box-main">
    <div class="container">
        <!-- Start Navbar  -->
        <div style="padding-bottom:20px" class="container">
            <div class="row">
                <div class="col-xs-12" style="width:60%">
                    <nav>
                        <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                            <a class="nav-item nav-link active" style="width:25%" id="delivered-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">訂單紀錄</a>
                            <a class="nav-item nav-link" style="width:25%" id="shipped-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">已出貨</a>
                            <a class="nav-item nav-link" style="width:25%" id="notYetShipped-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">未出貨</a>
                            <a class="nav-item nav-link" style="width:25%" id="deliveredNoRecipient-tab" data-toggle="tab" href="#nav-about" role="tab" aria-controls="nav-about" aria-selected="false">送達未取</a>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
        <!-- End Navbar  -->
        <div class="row">
            <div class="col-lg-12">
                <div class="table-main table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>訂單號</th>
                                <th>下單日期</th>
                                <th>總價</th>
                                <th class="last-th">訂單細項</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            @{
                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td class="orderid-p">
                                            <p>@Html.DisplayFor(modelItem => item.OrderId)</p>
                                        </td>
                                        <td class="orderdate-p">
                                            <p>@Html.DisplayFor(modelItem => item.OrderDate)</p>
                                        </td>
                                        <td class="price-pr">
                                            <p>NT$ @item.總價</p>
                                        </td>
                                        <td class="add-pr">
                                            <a asp-area="" asp-controller="Order" asp-action="OrderDetail" asp-route-id="@item.order.OrderId" class="btn hvr-hover">檢視</a>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End List -->
@section Scripts{
    <script>
        $('#delivered-tab').click(function () {
            $('#tbody').load('@Url.Content("~/order/OrdersDelivered")')
        })
    </script>
}
